<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Jquery</title>
    <link rel="stylesheet" href="jpro.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>
<body>
    <div class="container-fluid menu-bar">
        <div class="container">
            <div class="row">
                <div class="menu col-xxl-12 col-xl-12 col-lg-12">
                    <ul>
                        <li id="btnmenu">
                            <a href="#"><i class="fa-solid fa-bars"></i></a>
                        </li>
                        <li>
                            <a href=""><i class="fa-solid fa-house"></i></a>
                        </li>
                        <!-- <li>
                            <a href="">SpaceX</a>
                            <ul class="sub-menu">
                                <li>
                                    <a href="">SpaceX Cambodia</a>
                                </li>
                                <li>
                                    <a href="">SpaceX China</a>
                                </li>
                                <li>
                                    <a href="">SpaceX USA</a>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <a href="">Apple</a>
                            <ul class="sub-menu">
                                <li>
                                    <a href="">Apple Watch</a>
                                </li>
                                <li>
                                    <a href="">Apple Mac</a>
                                </li>
                                <li>
                                    <a href="">Apple Pad</a>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <a href="">Google</a>
                            <ul class="sub-menu">
                                <li>
                                    <a href="">Google Cambodia</a>
                                </li>
                                <li>
                                    <a href="">Google China</a>
                                </li>
                                <li>
                                    <a href="">Google USA</a>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <a href="">Ebook</a>
                            <ul class="sub-menu">
                                <li>
                                    <a href="">Ebook Cambodia</a>
                                </li>
                                <li>
                                    <a href="">Ebook China</a>
                                </li>
                                <li>
                                    <a href="">Ebook USA</a>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <a href="">Microsoft</a>
                            <ul class="sub-menu">
                                <li>
                                    <a href="">Microsoft Office</a>
                                </li>
                                <li>
                                    <a href="">Microsoft Team</a>
                                </li>
                                <li>
                                    <a href="">Microsoft Net</a>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <a href="">Amazon</a>
                            <ul class="sub-menu">
                                <li>
                                    <a href="">Amazon Cambodia</a>
                                </li>
                                <li>
                                    <a href="">Amazon Store</a>
                                </li>
                                <li>
                                    <a href="">Amazon Cafe</a>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <a href="">Meta</a>
                            <ul class="sub-menu">
                                <li>
                                    <a href="">Meta Facebook</a>
                                </li>
                                <li>
                                    <a href="">Meta IG</a>
                                </li>
                                <li>
                                    <a href="">Meta Chat</a>
                                </li>
                            </ul>
                        </li> -->
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="left-menu">
        <ul>
            <!-- <li>
                <a href="">SpaceX</a>
            </li>
            <li>
                <a href="">Apple</a>
            </li>
            <li>
                <a href="">Google</a>
            </li> -->
        </ul>
    </div>
    <div class="container item-container">
        <div class="row">
            <div class="menu2 col-xxl-3 col-xl-3 col-lg-3">
                <ul>
                    <li>
                        <a href="">
                            <span>Apple</span>
                            <i class="fas fa-plus"></i>
                        </a>
                        <ul class="sub-menu2">
                            <li>
                                <a href="">SpaceX Cambodia</a>
                            </li>
                            <li>
                                <a href="">SpaceX China</a>
                            </li>
                            <li>
                                <a href="">SpaceX USA</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="">
                            <span>Apple</span>
                            <i class="fas fa-plus"></i>
                        </a>
                        <ul class="sub-menu2">
                            <li>
                                <a href="">SpaceX Cambodia</a>
                            </li>
                            <li>
                                <a href="">SpaceX China</a>
                            </li>
                            <li>
                                <a href="">SpaceX USA</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="">
                            <span>Apple</span>
                            <i class="fas fa-plus"></i>
                        </a>
                        <ul class="sub-menu2">
                            <li>
                                <a href="">SpaceX Cambodia</a>
                            </li>
                            <li>
                                <a href="">SpaceX China</a>
                            </li>
                            <li>
                                <a href="">SpaceX USA</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="slide-container col-xxl-9 col-xl-9 col-lg-9">
                <div class="slide-box">
                    <!-- <div class="slide">
                        <img src="19.jpg" alt="">
                    </div>
                    <div class="slide">
                        <img src="6.jpg" alt="">
                    </div>
                    <div class="slide">
                        <img src="7.jpg" alt="">
                    </div>
                    <div class="slide">
                        <img src="16.jpg" alt="">
                    </div> -->
                    <div class="btn-slide btn-next">
                        <i class="fa-solid fa-chevron-right"></i>
                    </div>
                    <div class="btn-slide btn-back">
                        <i class="fa-solid fa-chevron-left"></i>
                    </div>
                    <div class="pagination">
                        <ul>
                            <!-- <li>1</li>
                            <li>2</li>
                            <li>3</li>
                            <li>4</li>
                            <li>5</li>
                            <li>6</li> -->
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container mt-4" >
        <div class="row" id="photo-con">
            <div class="col-xxl-3 col-xl-3 col-lg-3 col-md-3 item-box">
                <div class="box">
                    <div class="img-box">
                        <img src="36.jpg" alt="">
                    </div>
                    <div class="img-box">
                        <img src="35.jpg" alt="">
                    </div>
                    <div class="img-box">
                        <img src="32.jpg" alt="">
                    </div>
                    <div class="img-box">
                        <img src="33.jpg" alt="">
                    </div>
                </div>
            </div>
            <div class="col-xxl-3 col-xl-3 col-lg-3 col-md-3 item-box"">
                <div class="box">
                    1
                </div>
            </div>
            <div class="col-xxl-3 col-xl-3 col-lg-3 col-md-3 item-box"">
                <div class="box">
                    1
                </div>
            </div>
            <div class="col-xxl-3 col-xl-3 col-lg-3 col-md-3 item-box"">
                <div class="box">
                    1
                </div>
            </div>
        </div>
    </div>
    <div class="container" style="padding-bottom: 300px;">
        <div class="row mt-4">
            <div class="col-xxl-4 col-xl-4 col-lg-4 col-md-4">
                <select name="" id="country" class="form-control">
                   
                </select>
            </div>
            <div class="col-xxl-4 col-xl-4 col-lg-4 col-md-4">
                <select name="" id="district" class="form-control">
                   
                </select>
            </div>
            <div class="col-xxl-4 col-xl-4 col-lg-4 col-md-4">
                <select name="" id="commune" class="form-control">
                   
                </select>
            </div>
        </div>
    </div>
    <div class="anime-group-box">
        <h1><span style="color: rgb(255, 0, 0);">Anime</span>
             <span style="color: rgb(158, 3, 248);">Group</span>
              <span style="color: rgb(253, 46, 125);">List</span>
               <span class="hide">Hide/Show</span></h1>
        <ul>
            
        </ul>
    </div>
    <div class="chat">
        <!-- <div class="chat-box">
            <div class="head">
                <img src="30.jpg" alt="">
                <span>Tokyo Gang</span>
                <i class="fa-solid fa-xmark btnclose"></i>
            </div>
        </div> -->
    </div>
</body>
<script>
    $(document).ready(function(){
        //const menulist = ["SpaceX", "Apple", "Google", "Ebook", "Microsoft", "Amazon", "Meta"];
        const menulist = [
            {
               "title":"GENRE",
               "img":"19.jpg",
               "sub":["Adventure", "Harem", "Ecchi"],
               "photo":"38.jpg",
               "group":"Redo of Heale",
            },
            {
               "title":"TYPES",
               "img":"6.jpg",
               "sub":["TV Series", "Movies", "ONAs"],
               "photo":"35.jpg",
               "group":"JUJUTSU KAISEN",
            },
            {
               "title":"NEWEST", 
               "img":"20.jpg",
               "sub":["China", "japan", "Cambodia"],
               "photo":"36.jpg",
               "group":"Berserk of Gluttony",
            },
            {
               "title":"UPDATED", 
               "img":"18.jpg",
               "sub":["Summer", "Spring", "Winter"],
               "photo":"34.jpg",
               "group":"Disgraced Noble Lady",
            },
            {
               "title":"ONGOING" ,
               "img":"17.jpg",
               "sub":["All Ages", "Children", "Hentai"],
               "photo":"30.jpg",
               "group":"One Piece",
            },
            {
               "title":"REQUEST" ,
               "img":"14.jpg",
               "sub":["Anime Name", "Dong Hua", "Manga"],
               "photo":"28.jpg",
               "group":"100 Zombies!",
            }, 
            {
               "title":"ADD" ,
               "img":"12.jpg",
               "sub":["Sub-Anime", "Dub-Anime", "Animation"],
               "photo":"24.jpg",
               "group":"Daiblo Demond Lord!",
            }, 
            {
               "title":"FAV" ,
               "img":"9.jpg",
               "sub":["Hentai", "Dong Hua", "Manga"],
               "photo":"27.jpg",
               "group":"Naja OverPower",
            }, 
            {
               "title":"COMMENT" ,
               "img":"8.jpg",
               "sub":["Good Purpose", "Bully", "Spoiler"],
               "photo":"29.jpg",
               "group":"Sword Heaven",
            }, 
        ];
        const chat = $(".chat");
        //remove chat messages
        chat.on("click",".chat-box .btnclose", function(){
            $(this).parents(".chat-box").remove();
        });
        //add chat
        $(".anime-group-box").on("click","ul li",function(){
            var ethis = $(this);
            var img = ethis.find("img").attr("src"); //find img by src
            var span = ethis.find("span").text(); //find text by span 
            var id = ethis.attr("id"); // jab id pi chat${i}
            var frm = `
            <div class="chat-box" id="${id}">
                <div class="head">
                    <img src="${img}" alt="">
                    <span>${span}</span>
                    <i class="fa-solid fa-xmark btnclose"></i>
                </div>
            </div>
            `;
        chatlength = chat.find("#"+id).length
        
        if(chatlength == 0){
            if(chat.find(".chat-box").length ==3){
            chat.find(".chat-box").eq(0).remove();
        }
            chat.append(frm);
        }
        
        });
        //get group list
        const getgrouplist = () =>{
            var txt ='';
            menulist.forEach((e , i)=>{
                txt += `
                <li id="chat${i}">
                    <img src="${e["photo"]}" alt="">
                    <span>${e["group"]}</span>
                </li>     
                `;
            });
            $(".anime-group-box").find("ul").html(txt);
        }
        getgrouplist();
        // hide group list
        $(".anime-group-box").on("click","h1",function(){
            if($(this).parent().innerHeight() == 50){
                $(this).parent().css({"height":"490px"})
            }else{
                $(this).parent().css({"height":"50px"})
            }
            
        });
        //array map example
        // const colors = ["red", "green", "blue", "yellow"];
        //     colors.map((e) =>{ // doch knea ng forEach
        //         console.log(e)
        //     })
        const photolist = [
            ["36.jpg","35.jpg","32.jpg","33.jpg"],
            ["30.jpg","31.jpg","29.jpg","28.jpg"],
            ["38.jpg","27.jpg","26.jpg","25.jpg"],
            ["37.jpg","24.jpg","23.jpg","22.jpg"],
            ["36.jpg","35.jpg","32.jpg","33.jpg"],
            ["30.jpg","31.jpg","29.jpg","28.jpg"],
            ["38.jpg","27.jpg","26.jpg","25.jpg"],
            ["37.jpg","24.jpg","23.jpg","22.jpg"],
        ]
        const countrylist = [
            {
                name: "Japan",
                type: [
                    {
                        name: "TV Series",
                        type: [
                            {
                                name: "Children",
                            },
                            {
                                name: "All Ages",
                            },
                            {
                                name: "Hentai",
                            },
                        ]
                    },
                    {
                        name: "Movies",
                        type: [
                            {
                                name: "Summer",
                            },
                            {
                                name: "Spiring",
                            },
                            {
                                name: "Winter",
                            },
                        ]
                    },
                    {
                        name: "ONAs",
                        type: [
                            {
                                name: "Top Rate",
                            },
                            {
                                name: "Most Save",
                            },
                            {
                                name: "Popular",
                            },
                        ]
                    },
                ]
            },
            {
                name: "China",
                type: [
                    {
                        name: "China TV",
                        type: [
                            {
                                name: "Kids",
                            },
                            {
                                name: "All Ages",
                            },
                            {
                                name: "18+",
                            },
                        ]
                    },
                    {
                        name: "China Movies",
                        type: [
                            {
                                name: "Adventure",
                            },
                            {
                                name: "Harem",
                            },
                            {
                                name: "Ecchi",
                            },
                        ]
                    },
                    {
                        name: "Stream",
                        type: [
                            {
                                name: "1080p",
                            },
                            {
                                name: "720p",
                            },
                            {
                                name: "480p",
                            },
                        ]
                    },
                ]
            },
            {
                name: "Khmer",
                type: [
                    {
                        name: "TV CTN",
                        type: [
                            {
                                name: "FHDs",
                            },
                            {
                                name: "4K Ultra",
                            },
                            {
                                name: "8K SuperPremium",
                            },
                        ]
                    },
                    {
                        name: "Movies-Khmer",
                        type: [
                            {
                                name: "Vip",
                            },
                            {
                                name: "Rock Star",
                            },
                            {
                                name: "Millionaire",
                            },
                        ]
                    },
                    {
                        name: "Khmer-Live",
                        type: [
                            {
                                name: "Top Views",
                            },
                            {
                                name: "Most Cmt",
                            },
                            {
                                name: "Popular",
                            },
                        ]
                    },
                ]
            },
        ]
        //get countryname
        var txt='<option value="-1"><-------Select One Items-------></option>';
        countrylist.map( (e , i) =>{
            txt += `
            <option value="${i}">${e["name"]}</option>
            `;
        });
        $("#country").html(txt);
        var cntind;
        $("#country").change(function(){
            cntind = $(this).val();
            if(cntind == '-1'){
                $("#district").empty();
                $("#commune").empty();
                return;
            }
            var type = countrylist[cntind]["type"];
            var txt='<option value="-1"><-------Select One Items-------></option>';
                type.map( (e , i) =>{
                    txt += `
                            <option value="${i}">${e["name"]}</option>
                            `;
                })
            //console.log($(this).val());
            $("#district").html(txt)
        });
        $("#district").change(function(){
            var ind2 = $(this).val();
            if(ind2 == '-1'){
                $("#commune").empty();
                return;
            }
            var type = countrylist[cntind]["type"][ind2]["type"];
            var txt='<option value="-1"><-------Select One Items-------></option>';
                type.map( (e , i) =>{
                    txt += `
                            <option value="${i}">${e["name"]}</option>
                            `;
                })
            //console.log($(this).val());
            $("#commune").html(txt)
        });
        //get photolist
        txt ='';
        const subphoto = (subphoto2) => {
            var txt2 = '';
            subphoto2.forEach((e) => {
                txt2 += `
                            <div class="img-box">
                                <img src="${e}" alt="">
                            </div>`;
            });
            return txt2;      
        }
        const myphoto = photolist.forEach((e) =>{
            // var txt2 ='';
            // e.forEach((e2) =>{
            //     txt2 +=`
            //                 <div class="img-box">
            //                     <img src="${e2}" alt="">
            //                 </div>
            //     `;
            // });
            // txt += `
            //         <div class="col-xxl-3 col-xl-3 col-lg-3 col-md-3 item-box"">
            //             <div class="box">
            //                 ${txt2}
            //             </div>
            //         </div>
            // `;
            txt += `
                    <div class="col-xxl-3 col-xl-3 col-lg-3 col-md-3 item-box mb-4"">
                        <div class="box">
                            ${subphoto(e)}
                        </div>
                    </div>
            `;
        });
        $("#photo-con").html(txt);
        //console.log(txt);
        //get slide
        //function getslide(){};
       
        const getslide = () =>{
            var txt ='';
            var txt2 ='';
            var curslide = 1;
            menulist.map((e) =>{ 
                txt +=`
                    <div class="slide">
                        <img src="${e["img"]}" alt="">
                        <div class="label">
                            ${curslide} / ${menulist.length}
                        </div>
                    </div>
                    
                `;
                
                txt2 += `
                    <li>${curslide}</li>
                `;
                curslide++;
            });
            $(".slide-box").find(".pagination ul").html(txt2);
            $(".slide-box").append(txt);
        };
        getslide();
        const slide = $(".slide");
        var numslide = slide.length;
        var slideind = 0;
        slide.hide();
        slide.eq(slideind).show();
        $(".pagination").find("ul li").eq(slideind).addClass("active");
        //auto slide
        const nextslide = () =>{
            $(".btn-next").click();
        }
        var myNextslide = setInterval(nextslide, 2000);
        //clear auto slide
        $(".slide-box").mouseover(function(){
            clearInterval(myNextslide);
        });
        $(".slide-box").mouseleave(function(){
            myNextslide = setInterval(nextslide, 2000);
        });
        //pagination
        $(".pagination").on("click","ul li",function(){
            var i = $(this).index();
            //console.log(i)
            slide.eq(slideind).hide();
            $(".pagination").find("ul li").eq(slideind).removeClass("active");
            slideind = i;
            slide.eq(slideind).show();
            $(".pagination").find("ul li").eq(slideind).addClass("active");
        });
        //next slide
        $(".btn-next").click(function(){      
            slide.eq(slideind).hide();
            $(".pagination").find("ul li").eq(slideind).removeClass("active");
            slideind++;
            if (slideind >= numslide){
                slideind=0;
            }
            slide.eq(slideind).show();
            $(".pagination").find("ul li").eq(slideind).addClass("active");
        });
        //back slide
        $(".btn-back").click(function(){ 
            slide.eq(slideind).hide();
            $(".pagination").find("ul li").eq(slideind).removeClass("active");
            slideind--;
            if(slideind <0){
                slideind = numslide - 1;
            }
            slide.eq(slideind).show();
            $(".pagination").find("ul li").eq(slideind).addClass("active");
        });
            getmenu2();
            function getmenu2(){
                var txt = '';
                menulist.forEach((e, i) =>{
                    txt += `
                    <li class="li-1" data-ind='${i}'>
                        <a href="#">
                            <span>${e["title"]}</span>
                            <i class="fas fa-plus"></i>
                        </a>
                    </li>
                    
                    `;
                });
                $(".menu2").find("ul").html(txt);
            };
            //get sub menu 2
            $('.menu2').on('click','ul .li-1',function(){
                var ethis = $(this);
                if( ethis.find(".sub-menu2").length > 0 ){
                    if( ethis.find(".fa-minus").length > 0 ){
                        ethis.find(".sub-menu2").slideUp(500);
                        ethis.find('i').removeClass("fa-minus");
                        ethis.find('i').addClass("fa-plus");
                    }else{
                        ethis.find(".sub-menu2").slideDown(500);
                        ethis.find('i').removeClass("fa-plus");
                        ethis.find('i').addClass("fa-minus");
                    }
                    return;
                }
                var ind = ethis.data("ind");
                var sub = menulist[ind]["sub"];
                var txt = '';
                sub.forEach( (e) =>{
                    txt += `
                            <li>
                                <a href="#">${e}</a>
                            </li>
                    
                    `;
                });
                ethis.append(`<ul class="sub-menu2">${txt}</ul>`)
                ethis.find('i').removeClass("fa-plus");
                ethis.find('i').addClass("fa-minus");
            });
        const submenu = (e2) => {
            var txt2 = '';
            e2.forEach((s) =>{
                txt2 += `
                    <li>
                        <a href="">${s}</a>
                    </li>
                `;
            });
            return txt2;
        };

        getmenubar();
        function getmenubar(){
            var txt = '';
            var txt3 = '';
            menulist.forEach((e) =>{
                var e2 = e["sub"];
                //var submenu = e["sub"];
                // var txt2 ='';
                // submenu.forEach((s) =>{
                //     txt2 += `
                //             <li>
                //                 <a href="">${s}</a>
                //             </li>
                //     `;
                // });
                txt += `
                        <li>
                            <a href="">${e["title"]}</a>
                            <ul class="sub-menu">
                                ${submenu(e2)}
                            </ul>
                        </li>
                
                `;
                txt3 +=`
                            <li>
                                <a href="">${e["title"]}</a>
                             </li>
                `;
            });
            $(".menu").find("ul").append(txt);
            $(".left-menu").find("ul").append(txt3)
        };
    });
    $(document).ready(function(){
        const body = $("body"); 
        const popup = '<div class="popup"></div>';
        $("#btnmenu").click(function(){
            body.append(popup);
            $(".left-menu").css({"left":"0"});
        });
        //remove left menu
        body.on("click",".popup",function(){
            $(this).remove();
            $(".left-menu").css({"left":"-399px"});
        });
    });


</script>
</html>